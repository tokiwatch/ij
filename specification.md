# CLI版インタースティシャル・ジャーナリング・ツール (`ij`) 仕様書

## 1. 目的

作業の切り替え時（インタースティシャル）における思考、実績、次の行動の記録を最小限の摩擦で実現し、集中力の維持と振り返りの質を向上させる。

## 2. 基本機能

1. **クイック・ロギング:** ターミナルから1コマンドで、現在時刻とともに内容を記録する。
2. **デイリー・ログ自動生成:** 実行時の日付に基づいて、日ごとに個別のMarkdownファイルを自動作成する。
3. **ログ表示:** 今日のログの内容をターミナル上に素早く表示する。
4. **検索機能:** 過去のログからキーワード検索を行う。

## 3. データ構造

* **保存先:** ユーザホームディレクトリ下の `.ij_logs/`（変更可能とする）。
* **ファイル形式:** Markdown形式 (`.md`)。
* **ファイル名:** `YYYY-MM-DD.md` (例: `2026-01-10.md`)。
* **ログ形式:**
```markdown
- 14:05 企画書のドラフト作成完了。少し疲れた。
- 14:10 休憩終了。次はAさんへの返信メールを書く。

```



## 4. コマンドライン・インターフェース (CLI)

プログラム名を `ij` と想定した場合のインターフェース設計です。

| コマンド | 引数/オプション | 説明 |
| --- | --- | --- |
| `ij` | (引数なし) | 今日のログを一覧表示する。 |
| `ij` | `"メッセージ"` | 引用符内のテキストを現在時刻とともに追記する。 |
| `ij -s` | `キーワード` | 全ログファイルを対象にキーワード検索を行う。 |
| `ij -e` | (なし) | 今日のログファイルをデフォルトのエディタで開く。 |
| `ij -l` | `n` | 直近 `n` 日分のログを表示する。 |

---

## 5. 実装の詳細設計 (Python)

### 推奨される使用ライブラリ

* `argparse` または `click`: コマンドライン引数の解析用。
* `pathlib`: ファイルパスの直感的な操作。
* `datetime`: 日付と時刻の取得。

### 処理フロー（ロギング時）

1. 実行時の日付を取得し、保存先パスを生成。
2. ディレクトリが存在しない場合は作成。
3. ファイルを「追記モード (`a`)」で開く。
4. `[現在時刻] [メッセージ]` の形式で末尾に書き込む。
5. 書き込み完了をコンソールに表示。

## 6. 拡張性の検討（将来的な機能）

* **Git連携:** 書き込みごとに自動で `git commit & push` を行い、バックアップと同期を自動化する。
* **タグ機能:** `@work` や `#idea` などのタグを認識し、特定のタグが付いたログだけを抽出する。
* **テンプレート:** 朝一番の実行時には「今日の目標」を、最後には「明日の自分へ」を促すテンプレートを挿入する。


